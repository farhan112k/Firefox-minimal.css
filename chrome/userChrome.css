/* Oneliner */
/* version: 136 */
/* url: https://github.com/farhan-112k/firefox-minimal */

/* Based on "Black by XI" theme, should work on any theme dark or light */

@import url(extraContents.css);

:root{
  --navbar-width: 500px;
}

@media (prefers-color-scheme: dark) {
  :root,
  body,
  * {
    --accent-color: rgb(25, 25, 25);
    --uc-background-color: rgb(16, 16, 18);
    --uc-border-color: rgba(28, 27, 34, 0.5);
    --uc-text-color: rgb(255, 255, 255);
    --uc-border-radius: 10px;
    --uc-selected: rgba(71, 71, 71, 0.7);
    --uc-hover: rgba(71, 71, 71, 0.7);
  }
}
@media (prefers-color-scheme: light) {
  :root,
  body,
  * {
    --accent-color: rgb(245, 245, 245);
    --uc-background-color: rgb(245, 245, 245);
    --uc-border-color: rgba(28, 27, 34, 0.5);
    --uc-text-color: rgb(255, 255, 255);
    --uc-border-radius: 10px;
    --uc-selected: rgba(71, 71, 71, 0.7);
    --uc-hover: rgba(71, 71, 71, 0.7);
  }
}

/* =====================================
   ! Oneline Style
   ===================================== */

  /* Main container setup: fixed left column for URL bar, flexible right column for tabs */
@media (min-width: 1000px) {
  #navigator-toolbox {
    display: grid !important;
    grid-template-columns: var(--navbar-width) 1fr;
  }

  /* Toolbar arrangement */
  #toolbar-menubar {
    grid-row: 1;
    grid-column: 1 / -1;
  }

  #nav-bar {
    grid-row: 2;
    grid-column: 1;
    width: 100% !important;
  }

  #TabsToolbar {
    grid-row: 2;
    grid-column: 2;
    width: 100% !important;
    min-width: 0;
    pointer-events: auto !important;
    z-index: 1;
  }

  #PersonalToolbar {
    grid-row: 3;
    grid-column: 1 / -1;
  }

  /* Fix for tab overflow */
  .tabbrowser-tabs {
    min-width: 0 !important;
  }

  /* Remove spacing between elements */
  #nav-bar,
  #TabsToolbar {
    margin: 0 !important;
    padding: 0 !important;
  }
}

/* Make the URL bar container flexible so it can shrink if more extensions appear */
#urlbar-container {
  display: flex !important;
  flex: 1 1 auto !important;
  min-width: 0 !important;
  max-width: none !important;
  width: auto !important;
  align-items: center !important;
}

/*--------- Icon Change ---------------------------------------*/

/* Icon Change */
#unified-extensions-button {
  list-style-image: var(--extension-icon) !important;
}
#back-button {
  list-style-image: var(--backward-icon) !important;
}
#forward-button {
  list-style-image: var(--forward-icon) !important;
}
.tab-icon-image[src="chrome://mozapps/skin/extensions/extension.svg"]
{
  content: var(--extension-icon) !important;
}
.tab-icon-image[src="chrome://branding/content/icon32.png"]
{
  content: var(--firefox-preview-orange-icon) !important;
}

/*--------- Simplifying interface -----------------------------*/

/* Autohide back button when disabled */
#back-button,
#forward-button {
  transform: scale(1, 1) !important;
  transition: margin-left 150ms var(--animation-easing-function),
    opacity 250ms var(--animation-easing-function),
    transform 350ms var(--animation-easing-function) !important;
}

#back-button[disabled="true"],
#forward-button[disabled="true"] {
  margin-left: -34px !important;
  opacity: 0 !important;
  transform: scale(0.8, 0.8) !important;
  pointer-events: none !important;
}

/*--------- Remove UI elements ------------------------------- */
/* Site information     */
#identity-box, 
/* Shield icon */
#tracking-protection-icon-container,
/* All url bar icons except for zoom level and bookmarks */
#page-action-buttons> :not(#urlbar-zoom-button, #star-button-box),
/* Search URL magnifying glass */
#urlbar-go-button,
/* Menu to display all tabs at the end of tabs bar */
#alltabs-button,
/* Minimize, maximize, and close buttons */
.titlebar-buttonbox-container,
/*Space between Menu and titlebar-buttonbox*/
.titlebar-spacer {
  display: none !important;
}

/* -------- Aesthetics --------------------------------------- */

/* Hide the line under navigation toolbar */
#navigator-toolbox {
  border-bottom: none !important;
}
/*Hide shadow around the url bar */
#nav-bar {
  box-shadow: none !important;
}

/* Hide urlbar placeholder text*/
#urlbar-input::placeholder {
  opacity: 0 !important;
}

/* Fix URL bar overlapping elements */
#urlbar-container {
  min-width: initial !important;
}

/* Hide the hamburger menu */
#PanelUI-menu-button {
  padding: 0px !important;
}
/* tiny part of menu for clicking  */
#PanelUI-menu-button .toolbarbutton-icon {
  width: 1px !important;
}

#PanelUI-menu-button .toolbarbutton-badge-stack {
  padding: 0px !important;
}

/*  Removes urlbar border/background  */
#urlbar-background {
  border: none !important;
  outline: none !important;
  transition: 0.15s !important;
}

/*  Removes the background from the urlbar while not in use  */
#urlbar:not(:hover):not([breakout][breakout-extend]) > #urlbar-background {
  box-shadow: none !important;
  background: #0000 !important;
}

/*  extra padding before input text*/
.urlbar-input-box {
  padding-left: 10px !important;
}

/* margin around extension */
toolbar .toolbaritem-combined-buttons {
  margin-inline: -1px !important;
}

/* remove extra margin from my used toolbar button */
toolbarbutton#downloads-button,
toolbarbutton#unified-extensions-button,
toolbarbutton#developer-button,
toolbarbutton#firefox-view-button,
toolbarbutton#sidebar-button {
  margin-inline: -2px !important;
}

/* Bookmark icon visiable only for boookmarked page */
#star-button-box:has([starred="true"]) {
  display: block !important;
}
#star-button-box {
  display: none !important;
}
/* Fix extra padding for extension icon */
#unified-extensions-button {
  padding-bottom: 1.6px !important;
}


/* =====================================
   ! Tabbar adjustments 
   ===================================== */

/*  X-button on the tabs  */
.tabbrowser-tab:not(:hover) .tab-close-button {
  opacity: 0% !important;
  transition: 0.3s !important;
  display: -moz-box !important;
}

.tab-close-button[selected]:not(:hover) {
  opacity: 45% !important;
  transition: 0.3s !important;
  display: -moz-box !important;
}

.tabbrowser-tab:hover .tab-close-button {
  opacity: 50%;
  transition: 0.3s !important;
  background: none !important;
  cursor: pointer;
  display: -moz-box !important;
}

.tab-close-button:hover {
  opacity: 100% !important;
  transition: 0.3s !important;
  background: none !important;
  cursor: pointer;
  display: -moz-box !important;
}

/* Remove margin after Pinned tab */
#tabbrowser-tabs[haspinnedtabs]:not([positionpinnedtabs])[orient="horizontal"]
  > #tabbrowser-arrowscrollbox
  > .tabbrowser-tab:nth-child(1 of :not([pinned], [hidden])) {
  margin-inline-start: 2px !important;
}

/* -------- Audio Tab Icon ----------------------------------- */
/* v136+ don't need this anymore  */

/* .tab-icon-image,
.tab-throbber {
  opacity: 1 !important;
}

.tab-icon-overlay:not([crashed]) {
  top: -5.5px;
  inset-inline-end: -6px;
  z-index: 1;
  padding: 2px;
  opacity: 1 !important;
  stroke: var(--tab-icon-overlay-stroke, black) !important;
}

.tab-icon-overlay:not([crashed]):hover {
  background-color: var(--tab-icon-overlay-stroke, black) !important;
  border-radius: 10px !important;
} */

/* =====================================
! Context Menu Adjustments 
===================================== */

/* ===== Titlebar Context Menu ===== */
/* #tabContextMenu #context_openANewTab, */                  /* New Tab to Right */
#tabContextMenu #context_openANewTab + menuseparator,
/* #tabContextMenu #context_moveTabToNewGroup, */            /* Add Tab to New Group */
/* #tabContextMenu #context_moveTabToGroup, */               /* Add Tab to Group */
/* #tabContextMenu #context_moveTabToGroupPopupMenu, */      /* (submenu) */
/* #tabContextMenu #context_moveTabToGroupNewGroup, */       /* New Group */
/* #tabContextMenu #context_moveTabToSavedGroup, */          /* Closed Groups */
/* #tabContextMenu #context_moveTabToSavedGroupPopupMenu, */ /* (submenu) */
/* #tabContextMenu #context_ungroupTab, */                   /* Remove from Groups */
/* #tabContextMenu #context_reloadTab, */                    /* Reload Tab */
/* #tabContextMenu #context_reloadSelectedTabs, */           /* Reload Tabs */
/* #tabContextMenu #context_playTab, */                      /* Play Tab */
/* #tabContextMenu #context_playSelectedTabs, */             /* Play Tabs */
#tabContextMenu #context_toggleMuteTab,                      /* Mute Tab */
/* #tabContextMenu #context_toggleMuteSelectedTabs, */       /* Mute Tabs */
/* #tabContextMenu #context_pinTab, */                       /* Pin Tab */
/* #tabContextMenu #context_unpinTab, */                     /* Unpin Tab */
/* #tabContextMenu #context_pinSelectedTabs, */              /* Pin Tabs */
/* #tabContextMenu #context_unpinSelectedTabs, */            /* Unpin Tabs */
/* #tabContextMenu #context_unloadTab, */                    /* Unload Tab */
#tabContextMenu #context_duplicateTab,                       /* Duplicate Tab */
#tabContextMenu #context_duplicateTabs,                      /* Duplicate Tabs */
/* #tabContextMenu #context_askChat, */                      /* Ask an AI Chatbot */
/* #tabContextMenu #context_bookmarkSelectedTabs, */         /* Bookmark Tabs… */
#tabContextMenu #context_bookmarkSelectedTab,                /* Bookmark Tabs… */
/* #tabContextMenu #context_bookmarkTab, */                  /* Bookmark Tab… */
#tabContextMenu .share-tab-url-item,                          /* Share */ 
#tabContextMenu #context_moveTabOptions,                     /* Move Tab */
/* #tabContextMenu #moveTabOptionsMenu, */                   /* (submenu) */
/* #tabContextMenu #context_moveToStart, */                  /* Move to Start */
/* #tabContextMenu #context_moveToEnd, */                    /* Move to End */
/* #tabContextMenu #context_openTabInWindow, */              /* Move to New Window */
/* #tabContextMenu #context_sendTabToDevice, */              /* Send Tab to Device */
/* #tabContextMenu #context_sendTabToDevicePopupMenu, */     /* (submenu) */
/* #tabContextMenu #context_reopenInContainer, */            /* Open in New Container Tab */
/* #tabContextMenu #context_reopenInContainerPopupMenu, */   /* (submenu) */
/* #tabContextMenu #context_selectAllTabs, */                /* Select All Tabs */
/* #tabContextMenu #context_closeTab, */                     /* Close Tab */
#tabContextMenu #context_closeDuplicateTabs                  /* Close Duplicate Tabs */
/* #tabContextMenu #context_closeTabOptions, */              /* Close Multiple Tabs */
/* #tabContextMenu #closeTabOptions, */                      /* (submenu) */
/* #tabContextMenu #context_closeTabsToTheStart, */          /* Close Tabs to Left */
/* #tabContextMenu #context_closeTabsToTheEnd, */            /* Close Tabs to Right */
/* #tabContextMenu #context_closeOtherTabs, */               /* Close Other Tabs */
/* #tabContextMenu #context_undoCloseTab, */                 /* Reopen Closed Tab */
/* #tabContextMenu #context_fullscreenAutohide, */           /* Hide Toolbars */
/* #tabContextMenu #context_fullscreenExit, */               /* Exit Full Screen Mode */
{
  display: none !important;
}

/* ===== Website Context Menu ===== */
/* #context-back, */                    /* Back */
/* #context-forward, */                 /* Forward */
/* #context-reload, */                  /* Reload */
/* #context-stop, */                    /* Stop */
/* #context-bookmarkpage, */            /* Bookmark Page… */
/* #context-sep-navigation, */          /* Navigation separator */
/* #context-viewsource-goToLine, */     /* Go to Line */
/* #context-viewsource-wrapLongLines, */ /* Wrap Long Lines */
/* #context-viewsource-highlightSyntax, */ /* Highlight Syntax */
/* #context-sep-viewsource-commands, */ /* View Source commands separator */
/* #spell-no-suggestions, */            /* No Spelling Suggestions */
/* #spell-add-to-dictionary, */         /* Add to Dictionary */
/* #spell-undo-add-to-dictionary, */    /* Undo Add To Dictionary */
/* #spell-suggestions-separator, */     /* Spell suggestions separator */
/* #context-openlinkincurrent, */       /* Open Link */
/* #context-openlinkincontainertab, */  /* Open Link in New Tab */
/* #context-openlinkintab, */           /* Open Link in New Tab */
/* #context-openlinkinusercontext-menu, */ /* Open Link in New Container Tab */
#context-openlink,                     /* Open Link in New Window */
/* #context-openlinkprivate, */         /* Open Link in New Private Window */
/* #context-previewlink, */             /* Preview Link */
/* #context-sep-open, */                /* Open separator */
#context-bookmarklink,                 /* Bookmark Link… */
/* #context-savelink, */                /* Save Link As… */
/* #context-copyemail, */               /* Copy Email Address */
/* #context-copyphone, */               /* Copy Phone Number */
/* #context-copylink, */                /* Copy Link */
#context-stripOnShareLink,             /* Copy Clean Link */
/* #context-sendlinktodevice, */        /* Send Link to Device */
/* #context-sep-sendlinktodevice, */    /* Send to device separator */
/* #context-sep-copylink, */            /* Copy link separator */
/* #context-media-play, */              /* Play */
/* #context-media-pause, */             /* Pause */
/* #context-media-mute, */              /* Mute */
/* #context-media-unmute, */            /* Unmute */
/* #context-media-playbackrate, */      /* Speed */
/* #context-media-loop, */              /* Loop */
/* #context-leave-dom-fullscreen, */    /* Exit Full Screen */
/* #context-video-fullscreen, */        /* Full Screen */
/* #context-media-hidecontrols, */      /* Hide Controls */
/* #context-media-showcontrols, */      /* Show Controls */
/* #context-media-sep-video-commands, */ /* Video commands separator */
/* #context-viewvideo, */               /* Open Video in New Tab */
/* #context-video-pictureinpicture, */  /* Watch in Picture-in-Picture */
/* #context-media-sep-commands, */      /* Media commands separator */
/* #context-reloadimage, */             /* Reload Image */
/* #context-viewimage, */               /* Open Image in New Tab */
/* #context-saveimage, */               /* Save Image As… */
#context-video-saveimage,              /* Take Snapshot… */
/* #context-savevideo, */               /* Save Video As… */
/* #context-saveaudio, */               /* Save Audio As… */
/* #context-copyimage-contents, */      /* Copy Image */
/* #context-copyimage, */               /* Copy Image Link */
/* #context-copyvideourl, */            /* Copy Video Link */
/* #context-copyaudiourl, */            /* Copy Audio Link */
#context-sendimage,                    /* Email Image… */
#context-viewimageinfo,                /* View Image Info */
/* #context-viewimagedesc, */           /* View Description */
/* #context-visual-search, */           /* Visual Search */
#context-sep-setbackground,            /* Set background separator */
#context-setDesktopBackground,         /* Set Image as Desktop Background… */
/* #context-sep-sharing, */             /* Sharing separator */
/* #context-savepage, */                /* Save Page As… */
#context-sendpagetodevice,             /* Send Page to Device */
/* #fill-login, */                      /* Fill login */
/* #fill-login-generated-password, */   /* Suggest Strong Password… */
/* #use-relay-mask, */                  /* Use Relay Email Mask */
/* #manage-saved-logins, */             /* Manage Passwords */
/* #passwordmgr-items-separator, */     /* Password manager separator */
/* #context-undo, */                    /* Undo */
/* #context-redo, */                    /* Redo */
/* #context-sep-redo, */                /* Redo separator */
/* #context-cut, */                     /* Cut */
/* #context-copy, */                    /* Copy */
/* #context-paste, */                   /* Paste */
/* #context-paste-no-formatting, */     /* Paste Without Formatting */
/* #context-delete, */                  /* Delete */
#context-selectall,                    /* Select All */
/* #context-pdfjs-comment-selection, */ /* Comment Selection */
/* #context-pdfjs-highlight-selection, */ /* Highlight Selection */
/* #context-reveal-password, */         /* Reveal Password */
#context-print-selection,              /* Print Selection… */
/* #context-sep-selectall, */           /* Select all separator */
/* #context-copy-link-to-highlight, */  /* Copy Link to Highlight */
/* #context-copy-clean-link-to-highlight, */ /* Copy Clean Link to Highlight */
/* #context-remove-highlight, */        /* Remove Highlight */
/* #context-sep-highlights, */          /* Highlights separator */
/* #context-pdfjs-undo, */              /* Undo */
/* #context-pdfjs-redo, */              /* Redo */
/* #context-sep-pdfjs-redo, */          /* PDF.js redo separator */
/* #context-pdfjs-cut, */               /* Cut */
/* #context-pdfjs-copy, */              /* Copy */
/* #context-pdfjs-paste, */             /* Paste */
/* #context-pdfjs-delete, */            /* Delete */
/* #context-pdfjs-selectall, */         /* Select All */
/* #context-sep-pdfjs-selectall, */     /* PDF.js select all separator */
#context-take-screenshot,              /* Take Screenshot */
#context-sep-screenshots,              /* Screenshots separator */
/* #context-keywordfield, */            /* Add a Keyword for this Search… */
/* #context-add-engine, */              /* Add Search Engine */
/* #context-searchselect, */            /* Search Google for selection */
/* #context-searchselect-private, */    /* Search with DuckDuckGo in a Private Window */
#context-translate-selection,          /* Translate Link Text to English */
/* #context-ask-chat, */                /* Ask an AI Chatbot */
#frame-sep,                           /* Frame separator */
/* #frame, */                          /* This Frame */
/* #spell-separator, */                /* Spell separator */
/* #spell-check-enabled, */            /* Check Spelling */
/* #spell-add-dictionaries-main, */    /* Add Dictionaries… */
/* #spell-dictionaries, */             /* Languages */
/* #context-sep-bidi, */               /* Bidi separator */
/* #context-bidi-text-direction-toggle, */ /* Switch Text Direction */
/* #context-bidi-page-direction-toggle, */ /* Switch Page Direction */
/* #inspect-separator, */              /* Inspect separator */
/* #context-viewpartialsource-selection, */ /* View Selection Source */
/* #context-viewsource, */             /* View Page Source */
#context-inspect-a11y,                /* Inspect Accessibility Properties */
/* #context-inspect, */                /* Inspect */
/* #context-media-eme-separator, */    /* Media EME separator */
/* #context-media-eme-learnmore, */    /* Learn more about DRM… */
#context-sendvideo,
#context-sendvideourl,
.menu-iconic[label="Firefox Relay"],
menuitem[label="Manage all masks"],
menuitem[label="Download with IDM"]
{
  display: none !important;
}

/* Decrease context menu item padding */
menu,
menuitem {
  padding-block: 0.35em !important;
}

/* -------- Drop menus Style -------------------------------- */

[position="bottomright topright"] {
  --panel-border-radius: 0 5px 5px 5px !important;
}

[position="bottomleft topleft"] {
  --panel-border-radius: 5px 0 5px 5px !important;
}

[part="content"] {
  border: none !important;
}

.toolbarbutton-1[open] {
  --toolbarbutton-border-radius: 4px 4px 0 0 !important;
}

[class*="identity-color"] > * > * .tab-context-line {
  border-radius: 0 0 5px 5px !important;
}

/* -------- Context Menu Styling ----------------------------- */
menupopup,
panel {
  color-scheme: light dark;
  --panel-background: var(--uc-background-color) !important;
  --panel-color: var(--uc-text-color) !important;
  --panel-border-radius: var(--uc-border-radius) !important;
  --panel-border-color: var(--uc-border-color) !important;
  --panel-shadow: 0 0 var(---uc-border-color) hsla(0, 0%, 0%, 0.2);
}

menuitem:hover {
  background-color: var(--uc-hover) !important;
  color: var(--uc-text-color) !important;
}

menu:where([_moz-menuactive="true"]:not([disabled="true"])),
menuitem:where([_moz-menuactive="true"]:not([disabled="true"])) {
  background-color: var(--uc-selected) !important;
  color: var(--uc-text-color) !important;
}

/* -------- Narbar floating in center -------------------------*/

#urlbar:is([breakout][breakout-extend], [breakout][usertyping][focused]) {
  #urlbar-input {
    font-size: 16px !important;
  }

  z-index: 2;
  position: fixed !important;
  bottom: auto !important;
  top: 16vh !important;
  padding-left: 6px !important;
  padding-right: 8px !important;
  left: 18vw !important;
  right: 18vw !important;
  width: 64vw !important;

  &:after {
    content: "";
    position: fixed;
    pointer-events: none;

    width: 100vw;
    height: 100vh;

    top: 0px;
    left: 0px;

    background-color: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(5px);

    z-index: -1;
  }
}

/* =====================================
! Private Mode Styling 
===================================== */
/* For private mode newtab styling go userContent.css */

/* Private Mode toolbar Gradiant */
[privatebrowsingmode="temporary"] #TabsToolbar {
  background: linear-gradient(240deg, #75000f 20%, #000 100%) !important;
}
